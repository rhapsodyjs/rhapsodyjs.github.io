<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    REST API &middot; 
    RhapsodyJS docs
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <style>
    #logo {
      max-width: 100%;
      height: auto;
    }
  </style>
</head>


  <body>

    <header class="masthead">
      <div class="masthead-inner">
        <img id="logo" src="/public/logo-site.png" alt="RhapsodyJS">
        <p class="lead"></p>

        <div class="colophon">
          <ul class="colophon-links">
            <li><a href="/">Get started</a></li>
            <li><a href="/controllers">Controllers</a></li>
            <li><a href="/middlewares">Middlewares</a></li>
            <li>
              <a href="/models">Models</a>
              <ul>
                <li><a href="/models/rest-api">REST API</a></li>
              </ul>
            </li>
            <li><a href="/classes">Classes</a></li>
            <li><a href="/utilities">Utilities</a></li>
            <li>
              <a href="/configuration/">Configuration</a>
              <ul>
                <li><a href="/configuration/environments">Environments</a></li>
                <li><a href="/configuration/database-adapters">Database adapters</a></li>
                <li><a href="/configuration/template-engines">Template engines</a></li>
                <li><a href="/configuration/error">Error</a></li>
                <li><a href="/configuration/session">Session</a></li>
                <li><a href="/configuration/socket">Socket</a></li>
                <li><a href="/configuration/bootstrap">Bootstraping</a></li>
                <li><a href="/configuration/csrf">CSRF</a></li>
              </ul>
            </li>
            <li><a href="https://github.com/rhapsodyjs/RhapsodyJS" target="_blank">GitHub</a></li>
          </ul>
          <!-- <p>&copy; 2014.  All rights reserved.</p> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <p>RhapsodyJS creates automatically a RESTful API for each one of your models (that can be disabled setting the allowRest option of the model as <code>false</code>).</p>

<p>Terminology: <code>documents</code> are each of the data stored in a model collection</p>

<p>The RESTful API of each model can be accessed by the path: /data/ModelName, so you can:</p>

<ul>
<li><strong>POST</strong> <code>/data/&lt;ModelName&gt;</code> Insert a new document to the <em>ModelName</em> collection with the data sent via POST and returns it</li>
<li><strong>POST</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;/&lt;RelationshipName&gt;</code> Insert a new document to the <em>RelationshipName</em> of the model <em>ModelName</em> with the given <em>id</em></li>
<li><strong>GET</strong> <code>/data/&lt;ModelName&gt;</code> Return all documents of the model <em>ModelName</em></li>
<li><strong>GET</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;</code> Return the document of the model <em>ModelName</em> with the given <em>id</em></li>
<li><strong>GET</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;/&lt;RelationshipName&gt;</code> Return all documents of the <em>RelationshipName</em> of the model <em>ModelName</em> with the given <em>id</em></li>
<li><strong>PUT</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;</code> Update the document of the model <em>ModelName</em> with the data sent via PUT</li>
<li><strong>PATCH</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;</code> Update partially the document of the model <em>ModelName</em> with the data sent via PATCH</li>
<li><strong>DELETE</strong> <code>/data/&lt;ModelName&gt;/&lt;id&gt;</code> Delete the document with the given <em>id</em> from the <em>ModelName</em> collection</li>
</ul>

<p>All theses request will first pass by the model middlewares (if any).</p>

<h2>Query options</h2>

<h3>Attributes</h3>

<p>If you want just some attributes, you can pass it with the option <code>attrs</code> separating them with <em>commas</em>, for example:</p>

<p><code>/data/ModelName/?attrs=name,registry</code></p>

<p>or</p>

<p><code>/data/ModelName/someID/?attrs=name,registry</code></p>

<h3>Limit (only for <strong>GET</strong> <code>/data/&lt;ModelName&gt;</code>)</h3>

<p>You can limit the number of results you want to get in the responde using the option <code>limit</code>, for example:</p>

<p><code>/data/ModelName/?limit=10</code></p>

<p>It will return you the first 10 results.</p>

<h3>Offset (only for <strong>GET</strong> <code>/data/&lt;ModelName&gt;</code>)</h3>

<p>If you want to skip some results, you can use the option <code>offset</code>, for example:</p>

<p><code>/data/ModelName/?offset=10</code></p>

<p>It will skip the first 10 results and return the rest.</p>

<h3>Order by some attribute (only for <strong>GET</strong> <code>/data/&lt;ModelName&gt;</code>)</h3>

<p>You can order the results by some attribute using the option <code>orderby</code>, for example:</p>

<p><code>/data/ModelName/?orderby=age</code></p>

<p>If will return all the results, ordering them by the attribute &quot;age&quot;.</p>

<h3>Order (only for <strong>GET</strong> <code>/data/&lt;ModelName&gt;</code>)</h3>

<p>You can choose if the results will be in ascending or descending order using the option <code>order</code> with the value <code>asc</code> or <code>desc</code> (they are case insensitive), for example:</p>

<p><code>/data/ModelName/?order=asc</code></p>

<p>or</p>

<p><code>/data/ModelName/?order=desc</code></p>

    </div>

  </body>
</html>
